# **Проект_Приложение для анализа банковских операций**

## *Описание:*

Приложение для анализа банковских операций клиента, которое позволяет получать следующую информацию:

- Курс валют
- Стоимость акций из S&P500
- Сумму расходов по картам
- Сумму кэшбэка по расходам
- Топ-5 транзакций по сумме платежа
- Сумму накоплений в Инвесткопилке, которую удалось бы отложить при использовании сервиса округления трат
- Сумму трат по выбранной категории за 3 месяца

## *Установка:*

Для работы с проектом, необходимо:

1. Выполнить клонирование репозитория:
   git clone https://github.com/MishchenkoElena/Coursework_1

2. Установить зависимости:
   pip install - r requirements.txt

## *Использование:*

***1. Модуль src/views.py***

В модуле реализована home_page - основная функция для страницы Главная, которая принимает на вход строку с датой и
временем в формате YYYY-MM-DD HH:MM:SS и возвращает JSON-ответ со следующими данными:

1. Приветствие в формате «Доброе утро» / «Добрый день» / «Добрый вечер» / «Доброй ночи» в зависимости от текущего
   времени.
2. По каждой карте клиента: последние 4 цифры карты; общую сумму расходов; кэшбэк (1 рубль на каждые 100 рублей).
3. Топ-5 транзакций клиента по сумме платежа.
4. Курс валют на текущую дату.
5. Стоимость акций из S&P500 на текущую дату

***2. Модуль src/utils.py***

В модуле реализованы вспомогательные функции для получения данных для страницы Главная:

1. get_greeting - Функция для вывода приветствия в зависимости от времени входа в приложение
2. get_data_period - Функция для получения из Excel-файла данных для анализа за выбранный период
3. get_exchange_rate - Функция позволяет получать текущий курс обмена валюты к рублю
4. convert_to_rubles - Функция конвертации суммы платежей в рубли
5. get_cards_data - Функция для вывода по каждой карте: последние 4 цифры карты; общая сумма расходов; кешбэк (1
   рубль на каждые 100 рублей)
6. get_top_transactions - Функция для вывода топ-5 транзакций по сумме платежа
7. get_currency_rates - Функция для вывода актуальных курсов валют, исходя из настроек пользователя
8. get_stock_prices - Функция для вывода цен на акции, исходя из настроек пользователя

***3. Модуль src/services.py***

В модуле реализован сервис по расчету суммы, которая могла бы быть отложена в Инвесткопилку за указанный месяц при
округлении трат до указанного предела. Для этих целей в модуле реализованы следующие функции:
read_transactions_from_excel - Функция читает транзакции из Excel-файла и возвращает их в виде списка словарей
investment_bank - Функция позволяет рассчитывать сумму, которая могла бы быть отложена в Инвесткопилку

***4. Модуль src/reports.py***

В модуле реализованы декоратор report_saver для функций-отчетов, записывает в файл результат, который
возвращает функция, формирующая отчет:
spending_by_category - функция для получения трат по заданной категории за последние три месяца (от переданной даты).

***5. Модуль main.py***

В модуле реализована функция main, которая предназначена для запуска функциональностей всего проекта

## *Тестирование:*

Для проверки корректности всех функциональностей проекта добавлены модули с тестами в папке tests:

1. test_views - тестирования модуля views
2. test_services - тестирования модуля services
3. test_reports - тестирование модуля reports
4. test_greeting - тестирование функции get_greeting из модуля utils
5. test_data_period - тестирование функции get_data_period из модуля utils
6. test_cards_data - тестирование функции get_cards_data из модуля utils
7. test_top_transactions - тестирование функции get_top_transactions из модуля utils
8. test_currency - тестирование функции get_currency_rates из модуля utils
9. test_stock - тестирование функции get_stock_prices из модуля utils
